{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport 'react-native-gesture-handler';\nimport React, { useEffect, useState } from 'react';\nimport { firebase } from \"./src/firebase/config\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { LoginScreen, HomeScreen, RegistrationScreen } from \"./src/screens\";\nimport { decode, encode } from 'base-64';\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nif (!global.btoa) {\n  global.btoa = encode;\n}\nif (!global.atob) {\n  global.atob = decode;\n}\nvar Stack = createStackNavigator();\nexport default function App() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  useEffect(function () {\n    var usersRef = firebase.firestore().collection('users');\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        usersRef.doc(user.uid).get().then(function (document) {\n          var userData = document.data();\n          setLoading(false);\n          setUser(userData);\n        }).catch(function (error) {\n          setLoading(false);\n        });\n      } else {\n        setLoading(false);\n      }\n    });\n  }, []);\n  if (loading) {\n    return _jsx(_Fragment, {});\n  }\n  return _jsx(NavigationContainer, {\n    children: _jsx(Stack.Navigator, {\n      children: user ? _jsx(Stack.Screen, {\n        name: \"Home\",\n        children: function children(props) {\n          return _jsx(HomeScreen, _objectSpread(_objectSpread({}, props), {}, {\n            extraData: user\n          }));\n        }\n      }) : _jsxs(_Fragment, {\n        children: [_jsx(Stack.Screen, {\n          name: \"Login\",\n          component: LoginScreen\n        }), _jsx(Stack.Screen, {\n          name: \"Registration\",\n          component: RegistrationScreen\n        })]\n      })\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","firebase","NavigationContainer","createStackNavigator","LoginScreen","HomeScreen","RegistrationScreen","decode","encode","global","btoa","atob","Stack","App","loading","setLoading","user","setUser","usersRef","firestore","collection","auth","onAuthStateChanged","doc","uid","get","then","document","userData","data","catch","error","props"],"sources":["/Users/jessica/Desktop/common_ground/App.js"],"sourcesContent":["import 'react-native-gesture-handler';\nimport React, { useEffect, useState } from 'react'\nimport { firebase } from './src/firebase/config'\nimport { NavigationContainer } from '@react-navigation/native'\nimport { createStackNavigator } from '@react-navigation/stack'\nimport { LoginScreen, HomeScreen, RegistrationScreen } from './src/screens'\nimport {decode, encode} from 'base-64'\nif (!global.btoa) {  global.btoa = encode }\nif (!global.atob) { global.atob = decode }\n\nconst Stack = createStackNavigator();\n\nexport default function App() {\n\n  const [loading, setLoading] = useState(true)\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    const usersRef = firebase.firestore().collection('users');\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        usersRef\n          .doc(user.uid)\n          .get()\n          .then((document) => {\n            const userData = document.data()\n            setLoading(false)\n            setUser(userData)\n          })\n          .catch((error) => {\n            setLoading(false)\n          });\n      } else {\n        setLoading(false)\n      }\n    });\n  }, []);\n\n  if (loading) {\n    return (\n      <></>\n    )\n  }\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>\n        { user ? (\n          <Stack.Screen name=\"Home\">\n            {props => <HomeScreen {...props} extraData={user} />}\n          </Stack.Screen>\n        ) : (\n          <>\n            <Stack.Screen name=\"Login\" component={LoginScreen} />\n            <Stack.Screen name=\"Registration\" component={RegistrationScreen} />\n          </>\n        )}\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n"],"mappings":";;;;AAAA,OAAO,8BAA8B;AACrC,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ;AACjB,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,oBAAoB,QAAQ,yBAAyB;AAC9D,SAASC,WAAW,EAAEC,UAAU,EAAEC,kBAAkB;AACpD,SAAQC,MAAM,EAAEC,MAAM,QAAO,SAAS;AAAA;AAAA;AAAA;AACtC,IAAI,CAACC,MAAM,CAACC,IAAI,EAAE;EAAGD,MAAM,CAACC,IAAI,GAAGF,MAAM;AAAC;AAC1C,IAAI,CAACC,MAAM,CAACE,IAAI,EAAE;EAAEF,MAAM,CAACE,IAAI,GAAGJ,MAAM;AAAC;AAEzC,IAAMK,KAAK,GAAGT,oBAAoB,EAAE;AAEpC,eAAe,SAASU,GAAG,GAAG;EAE5B,gBAA8Bb,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCc,OAAO;IAAEC,UAAU;EAC1B,iBAAwBf,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/BgB,IAAI;IAAEC,OAAO;EAEpBlB,SAAS,CAAC,YAAM;IACd,IAAMmB,QAAQ,GAAGjB,QAAQ,CAACkB,SAAS,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC;IACzDnB,QAAQ,CAACoB,IAAI,EAAE,CAACC,kBAAkB,CAAC,UAAAN,IAAI,EAAI;MACzC,IAAIA,IAAI,EAAE;QACRE,QAAQ,CACLK,GAAG,CAACP,IAAI,CAACQ,GAAG,CAAC,CACbC,GAAG,EAAE,CACLC,IAAI,CAAC,UAACC,QAAQ,EAAK;UAClB,IAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAI,EAAE;UAChCd,UAAU,CAAC,KAAK,CAAC;UACjBE,OAAO,CAACW,QAAQ,CAAC;QACnB,CAAC,CAAC,CACDE,KAAK,CAAC,UAACC,KAAK,EAAK;UAChBhB,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,CAAC;MACN,CAAC,MAAM;QACLA,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE;IACX,OACE,mBAAK;EAET;EAEA,OACE,KAAC,mBAAmB;IAAA,UAClB,KAAC,KAAK,CAAC,SAAS;MAAA,UACZE,IAAI,GACJ,KAAC,KAAK,CAAC,MAAM;QAAC,IAAI,EAAC,MAAM;QAAA,UACtB,kBAAAgB,KAAK;UAAA,OAAI,KAAC,UAAU,kCAAKA,KAAK;YAAE,SAAS,EAAEhB;UAAK,GAAG;QAAA;MAAA,EACvC,GAEf;QAAA,WACE,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,OAAO;UAAC,SAAS,EAAEZ;QAAY,EAAG,EACrD,KAAC,KAAK,CAAC,MAAM;UAAC,IAAI,EAAC,cAAc;UAAC,SAAS,EAAEE;QAAmB,EAAG;MAAA;IAEtE;EACe,EACE;AAE1B"},"metadata":{},"sourceType":"module"}